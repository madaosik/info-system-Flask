{% extends "bootstrap/base.html" %}

{% block styles %}
    {{ super() }}
    <link rel="stylesheet" href="/static/datepicker.css"/>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css"  crossorigin="anonymous">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" crossorigin="anonymous">
    <link rel="stylesheet" href="{{ url_for('.static', filename='styles.css') }}">
    <link rel="stylesheet" href="{{url_for('.static', filename='jqwidgets/styles/jqx.base.css')}}" type="text/css" />
    <link rel="stylesheet" href="{{url_for('.static', filename='jqwidgets/styles/jqx.darkblue.css')}}" type="text/css" />
{% endblock %}

{% block scripts %}
    {{super()}}
    <!-- add the jQuery script -->
    <script type="text/javascript" src="{{url_for('.static', filename='scripts/jquery-1.11.1.min.js')}}"></script>
    <!-- add the jQWidgets framework -->
    <script type="text/javascript" src="{{url_for('.static', filename='jqwidgets/jqxcore.js')}}"></script>
    <!-- add one or more widgets -->
    <script type="text/javascript" src="{{url_for('.static', filename='jqwidgets/jqxbuttons.js')}}"></script>
    <!-- add the jQWidgets base styles and one of the theme stylesheets -->
{% endblock %}


{% block title %}IS dopravní společnosti{% endblock %}

{% block navbar %}
    <div class="container col-sm-12 col-md-12 col-lg-12">
        {% if current_user.is_authenticated %}
            <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
                <a class="navbar-brand" href="#">Dopravní společnost</a>

                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav ml-auto">
                        <li class="nav-item active">
                            <a class="nav-link" href="{{ url_for('logged_in') }}">Nástěnka</a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link"
                               href="{{ url_for('show_me',entity= 'zamestnanci', id= current_user.id_zam) }}">Můj
                                profil</a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link"
                               href="{{ url_for('show_mojedovolena',entity= 'dovolena_zaznam', id= current_user.id_zam) }}">Plánovaná
                                dovolená</a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link"
                               href="{{ url_for('show_user_activities', id=current_user.id) }}">Moje aktivity</a>
                        </li>

                        {% if current_user.role == 'boss' or current_user.role == 'admin' %}
                            <li class="nav-item active dropdown">
                                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                                   data-toggle="dropdown"
                                   aria-haspopup="true" aria-expanded="false">
                                    Admin
                                </a>
                                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                    <div class="dropdown-header">Evidence činností</div>
                                    <a class="dropdown-item" href="{{ url_for('show_all', entity='aktivity') }}">Přehled aktivit</a>
                                    <a class="dropdown-item" href="#">Docházka</a>
                                    <div class="dropdown-divider"></div>
                                    <div class="dropdown-header">Zaměstnanci</div>
                                     <a class="dropdown-item" href="{{ url_for('show_all', entity='zamestnanci') }}">Přehled zaměstnanců</a>
                                    <a class="dropdown-item" href="{{ url_for('show_all', entity='lekarske_prohlidky') }}">Lékařské prohlídky</a>
                                    <a class="dropdown-item" href="#">Pracovní smlouvy</a>
                                    <a class="dropdown-item"
                                       href="{{ url_for('show_all', entity='dovolena_zaznam') }}">Dovolená</a>
                                    <a class="dropdown-item" href="#">Úložiště dokumentů</a>
                                    <div class="dropdown-divider"></div>
                                    <div class="dropdown-header">Vozový park</div>
                                    <a class="dropdown-item" href="{{ url_for('show_all', entity='vozidla') }}">Přehled vozidel</a>
                                    <a class="dropdown-item" href="#">Technické kontroly</a>
                                    <a class="dropdown-item" href="#">Plánované servisní práce</a>
                                    <a class="dropdown-item" href="#">Úložiště dokumentů</a>
                                    <div class="dropdown-divider"></div>
                                    <a class="dropdown-item" href="{{ url_for('show_all', entity='uzivatele') }}">Správa uživatelů</a>
                                    <a class="dropdown-item" href="{{ url_for('add_user_activity', id=current_user.id) }}">Přidat aktivitu</a>
                                    {% if current_user.role != 'boss' %}
                                        <a class="dropdown-item" href="{{ url_for('pridat_ziadost', entity= 'dovolena_zaznam') }}">Nová žádost o dovolenou</a>
                                    {% endif %}
                                </div>
                            </li>
                        {% endif %}
                        <li class="nav-item active">
                            <a class="nav-link" href="{{ url_for('logout') }}">Odhlásit</a>
                        </li>
                    </ul>
                </div>
            </nav>
        {% endif %}
    </div>
{% endblock %}

{% block content %}
    <div class="container">
        <div class="content-container">
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    {% for cat, message in messages %}
                     <div class="alert alert-dismissible alert-success {{ cat }}">
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        {{ message | safe  }}
                     </div>
                    {% endfor %}
                {% endif %}
            {% endwith %}
            <div>
                {% block app_content %}{% endblock %}
            </div>
        </div>
    </div>
    {% block footer %}{% endblock %}
{% endblock %}



