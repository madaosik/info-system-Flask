<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- saved from url=(0067)https://www.fit.vutbr.cz/study/courses/IIS/private/projekt/doc.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-2">
    
    <title>Projekt IIS</title>
    <style type="text/css">
    	table { border-collapse: collapse; }
    	td, th { border: 1px solid black; padding: 0.3em 0.5em; text-align: left; }
    	dt { font-weight: bold; margin-top: 0.5em; }
    </style>
</head>
<body>

<!-- Zkontrolujte prosím nastavení kódování v hlavièce dokumentu 
     podle pou¾itého editoru -->

<h1>Informaèní systém dopravní spoleènosti</h1> <!-- Nahradte názvem svého zadání -->

<dl>
	<dt>Autoøi</dt>
	<dd>Adam Láníèek <!-- Nahraïte skuteèným jménem a e-mailem autora a popisem èinnosti -->
	    <a href="mailto:xlanic04@stud.fit.vutbr.cz">xlanic04@stud.fit.vutbr.cz</a> -
		nastavení vývojového prostøedí, základní struktura aplikace a databáze vèetnì migraèních schémat, správa u¾ivatelù
	</dd>
	<dd>Zuzana Synaková <!-- Nahraïte skuteèným jménem a e-mailem autora a popisem èinnosti -->
	    <a href="mailto:xsynak02@stud.fit.vutbr.cz">xsynak02@stud.fit.vutbr.cz</a> -
		dílèí business logic funkce, modul ¾ádostí o dovolené a jejich schvalování
	</dd>
	<dt>URL aplikace</dt>
	<dd><a href="http://xlanic04.pythonanywhere.com">http://xlanic04.pythonanywhere.com</a></dd>
</dl>

<h2>U¾ivatelé systému pro testování</h2>
<p>Uveïte prosím existující zástupce <strong>v¹ech rolí u¾ivatelù</strong>.</p>
<table>
<tbody><tr><th>Login</th><th>Heslo</th><th>Role</th></tr>
<tr><td>tester</td><td>test</td><td>Administrátor</td></tr>
<tr><td>sef</td><td>boss</td><td>Vedoucí</td></tr>
<tr><td>zamestnanec</td><td>zam</td><td>Zamìstnanec</td></tr>
</tbody></table>

<h2>Implementace</h2>
<p>Informaèní systém je implementován v Pythonu, konkrétnì micro-frameworku Flask. Spousta vývojového èasu byla vìnována
    relativnì komplexní infrastruktuøe. Ta je postavená na ORM zprostøedkovaným Python modulem SQLAlchemy a dále modulem Alembic, který výraznì napomahá ve správì databáze a její aktualizaci.
    Hlavním øídícím mozkem aplikace je soubor webapp/views/routes.py, který si mimo jiné volá potøebné modelové funkce z webapp/core/db.py a dále získává instance tøíd formuláøù
    (webapp/views/forms.py), které dále posílá do ¹ablon (webapp/templates), kde jsou Jinja template enginem (souèást frameworku Flask) vykreslovány.
</p>
<p>
    Autentifikace u¾ivatelù a pøístupová práva k rùzným modulùm jsou ve Flasku øe¹ena velmi elegantnì skrz funkèní dekorátory, ke kterým jsme si doimplementovali vlastní obsluhy.
</p>

<p>
    Vzhledem ke komplikacím spojeným s provoznìním Flask frameworku na serveru Eva jsme se rozhodli pro externí hosting na serveru pythonanywhere.com.
</p>

<h2>Instalace</h2>
<ul>
<li>Pøedpoklad: Python 3.7 instalován na serveru</li>
    <li>Ideálnì vytvoøení virtuálního prostøedí pro python (není nutné). V koøenovém adresáøi projektu pøíkaz: <i>python3 -m venv venv</i></li>
    <li>Aktivace virtuálního prostøedí pøíkazem: <i>source venv/bin/activate</i></li>
    <li>Instalace po¾adovaných verzí Python modulù: pøíkaz <i>pip3 install -r requirements.txt</i></li>
    <li>Vytvoøení cílové MySQL databáze na serveru a editace konfiguraèních souborù alembic.ini a webapp/settings/config.py o nastavení pøístupu k ní.</li>
    <li>Jakmile jsou pøístupy správnì nastaveny, tak k vytvoøení databáze dojde pøíkazem v koøenovém adresáøi: <i>alembic upgrade head</i></li>
    <li>Pøíkaz <i>export FLASK_APP=run.py</i>, kterým se vyexportuje environment variable potøebná pro spu¹tìní Flask aplikace</li>
    <li>Pøíkazem <i>flask run</i> v koøenovém adresáøi dojde ke spu¹tìní aplikace a poskytnutí adresy jejího umístìní.</li>
</ul>

<h2>Známé problémy</h2>
<p>V systému je plnì implementována správa u¾ivatelù, tedy rùzné role, jejich správa, pøidávání a mazání u¾ivatelù. Dále je funkèní modul dovolených,
kdy si zamìstnanci zadávají ¾ádosti o dovolenou na dané èasové intervaly a u¾ivatel s rolí vedoucího (boss) je pak schvaluje. Mù¾e si také po jednotlivých zamìstnancích
    zobrazit historii jejich dovolených. Jen rozpracován zùstal
    prozatím z dùvodù èasové tísnì modul správy aktivit, který bude slou¾it k vykazování jízd zamìstnancù - aktuálnì je vykreslen jen formuláø na základì
    vozidel z evidence, ale není dále zpracován. V modulu zamìstnanci funguje pøidávání a editace nových zamìstnancù, v modulu vozový park pøidávání a editace vozidel.
    Implementovat zbylé èásti modulù jsme z èasových dùvodù nestihli.</p>



</body></html>